<div class="park-name">${solutionCoaster.park}</div>
          `;
          cell.classList.add('filled-cell', 'correct');
          cell.dataset.coasterId = solutionCoaster.id;
        }
      });
      
      // Display results
      resultsMessage.style.display = 'block';
      resultsMessage.textContent = `Game over! You had ${correctCells.length} correct answers out of 9 cells.`;
      resultsMessage.className = 'check-results success';
      
      // Disable cell clicks after game is ended
      document.querySelectorAll('.cell.input-cell').forEach(cell => {
        cell.onclick = null;
        cell.classList.remove('input-cell');
      });
    }
    
    // Event listeners
    coasterSearchBox.addEventListener('input', findCoasters);
    
    selectButton.addEventListener('click', () => {
      if (currentCell && selectedCoaster) {
        // Display coaster name and park
        currentCell.innerHTML = `
          <div>${selectedCoaster.name}</div>
          <div class="park-name">${selectedCoaster.park}</div>
        `;
        currentCell.classList.add('filled-cell');
        
        // Store coaster data
        currentCell.dataset.coasterId = selectedCoaster.id;
        
        // Update game grid
        const row = parseInt(currentCell.dataset.row);
        const col = parseInt(currentCell.dataset.col);
        gameGrid[row][col] = selectedCoaster;
        
        closeSearchModal();
      }
    });
    
    // Close modal if clicking outside of it
    window.addEventListener('click', (event) => {
      if (event.target === searchModal) {
        closeSearchModal();
      }
    });
    
    // Close search results if clicking outside
    document.addEventListener('click', (event) => {
      if (!event.target.closest('.search-container')) {
        searchList.classList.add('hide-search-list');
      }
    });
    
    // Allow pressing Enter to search
    coasterSearchBox.addEventListener('keypress', (event) => {
      if (event.key === 'Enter' && selectedCoaster) {
        selectButton.click();
      }
    });
    
    // Start the game by loading coaster data
    window.onload = loadCoasterData;
  </script>
</body>
</html>
